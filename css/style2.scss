@import url("https://fonts.googleapis.com/css?family=Poppins:500,800&display=swap");

$white:#fff;
$black:#28212e;
$accent:#f1d18a;

*{
  padding:0;
  margin:0;
  box-sizing:border-box;
  font-family: 'Poppins', sans-serif;
}

body {
  overflow: hidden;
  background:$black;
  display:flex;
  justify-content:center;
  align-items:center;
  min-height:100vh;
  position:relative;
}

// CURSOR BLOB
#cBlob {
  width: 50px;
  height: 50px;
  background-image: radial-gradient(
    circle farthest-corner at 10% 20%,
    #df5b5b 0%,
    #ffd16e 100%
  );
  background:#fff;
  background-size: 1600% 1600%;
  position: absolute;
  mix-blend-mode: difference;
  pointer-events: none;
  z-index: 60;
  transform:scale(0);
  transition: transform 0.8s ease;
  animation: blobRadius 6s ease-in-out infinite,
    blobBackground 15s ease infinite;
}

@media (hover: none) {
  #cBlob{
    display:none;
  }
}

// PAGE TRANSITION BLOB
#cClick {
  width: 500px;
  height: 500px;
  background: #f1eff6;
  position: fixed;
  z-index: 60;
  pointer-events:none;
  transition: top 0.1s ease, left 0.1s ease, transform 1.8s ease,
    background 1.5s ease;
  animation: blobRadius 6s ease-in-out infinite,
    blobBackground 15s ease infinite;
  opacity: 0;
  transform: scale(0.1);

  &.clicked {
    opacity: 1;
    transform: scale(10);
    background: #28212e;
  }
}

.blobber{
  cursor:pointer;
  user-select:none;
}

.ac, .aw, .al, .ac-d, .aw-d, .al-d{
  span:blank{
    min-width:20px;
  }
}

// BLOB ANIMATIONS
@keyframes blobRadius {
  0%,100% { border-radius: 43% 77% 80% 40% / 40% 40% 80% 80% }
  20% { border-radius: 47% 73% 61% 59% / 47% 75% 45% 73% }
  40% { border-radius: 46% 74% 74% 46% / 74% 58% 62% 46% }
  60% { border-radius: 47% 73% 61% 59% / 40% 40% 80% 80% }
  80% { border-radius: 50% 70% 52% 68% / 51% 61% 59% 69% }
}
@keyframes blobBackground {
  0%,100% { background-position: 0% 50% }
  50% { background-position: 100% 50% }
}

// NAVIGATION
.nav {
  display: flex;
  position:fixed;
  top:0;
  left:0;
  flex-direction: column;
  justify-content: center;
  align-items: center;
  height: 100vh;
  width: 100vw;
  display: none;
  overflow:hidden;
  z-index:20;
  
  &:before, &:after{
    content:"";
    position:absolute;
    width:100vw;
    height:51vh;
    pointer-events:none;
    background:#f1eff6;
    z-index:5;
  }
  &:before{
    top:0;
    left:0;
    animation:navInLeft .6s forwards ease-out;
    clip-path:polygon(-50% 0%, 0% 0%, -50% 100%, -150% 100%);
  }
  &:after{
    right:0;
    bottom:0;
    animation:navInRight .6s forwards ease-out;
    clip-path:polygon(150% 0%, 200% 0%, 200% 100%, 100% 100%);
  }
  
  @keyframes navInLeft{ 
    to {
      clip-path:polygon(0% 0%, 150% 0%, 100% 100%, -0% 100%); 
    }
  }
  @keyframes navInRight{ 
    to { 
      clip-path:polygon(0% 0%, 100% 0%, 100% 100%, -50% 100%);
    }
  }

   // NAVIGATION LINKS
  .link {
    list-style: none;
    cursor: pointer;
    font-size: 3em;
    z-index:10;
    display:inline-block;
    position:relative;
    letter-spacing:0;
    
    span{
      color: #28212e;
      font-weight:800;
      letter-spacing:0;
      transition:letter-spacing 0.5s ease;
    }

    &:not(:last-child) {
      margin-bottom: 50px;
    }
    
    &:hover {
      span{
        letter-spacing:1px;
        transition:letter-spacing 0.5s ease;
      }
    }
  }
  
  // NAVIGATION ICON
  &__icon {
    width: 40px;
    height: 40px;
    position: absolute;
    top: 40px;
    right: 40px;
    cursor: pointer;
    z-index:50;
    transform:scaleX(0);
    transform-origin:right center;
    animation:navFade .4s forwards .1s;
    
    @keyframes navFade{ to{ transform:scaleX(1) }}

    span {
      position: absolute;
      top: 0;
      right: 0;
      background: #fff;
      width: 100%;
      height: 3px;
      transition: all 0.2s ease;
      transform-origin:center;

      &:last-child {
        top: 10px;
        width: 60%;
      }
    }
    &.open {
      span {
        background: #28212e;
        top: 5px;

        &:first-child {
          transform: rotate(45deg);
        }
        &:last-child {
          //top: 0;
          transform: rotate(-45deg);
          width: 100%;
        }
      }
    }
  }
}

content{
  height:100vh;
  width:100%;
  overflow:hidden;
  display:none;
  
  .page-title{
  	position: absolute;
  	z-index: 70;
  	
  	h1{
	    font-weight:800;
	    font-size:12vmin;
	    margin:0;
	    line-height:1;
	    color:$white;
	    white-space:nowrap;
	    animation:cutoff-top 1s forwards;
	    -webkit-text-stroke:1pt $black;
	    overflow: hidden;
	    
	    $cutoff:60%;
	    clip-path:polygon(0% 0%, 100% 0%, 100% 100%, 0% 100%);
	    
	    &:last-child{
	    	position:absolute;
	    	top:0;
	    	left:0;
	      -webkit-text-stroke:1pt $black;
	      color:transparent;
	      clip-path:polygon(0% 100%, 100% 100%, 100% 100%, 0% 100%);
	      animation:cutoff-bottom 1s forwards;
	    }
	    
	    @keyframes cutoff-top{
	    	to{
	    		clip-path:polygon(0% 0%, 100% 0%, 100% $cutoff, 0% $cutoff);
	    	}
	    }
	    @keyframes cutoff-bottom{
	    	to{
	    		clip-path:polygon(0% $cutoff, 100% $cutoff, 100% 100%, 0% 100%);
	    	}
	    }
	  }
  }
}

// ANIMATIONS
.a{
  &c, &l, &w {
    // loop for offsetting nodes
    span {
      animation: rollIn 0.3s forwards;
      opacity: 0;
      transform: translateY(-8px) rotate(-5deg);
      display: inline-block;

      @for $i from 1 through 50 {
        &:nth-child(#{$i}) {
          animation-delay: #{$i * 0.05}s;
        }
      }
      
      &:empty{
      	width:15px;
      }
    }
  }
  &c-d, &l-d, &w-d{
    // loops for offsetting nth-childs, not only nodes
    @for $i from 1 through 50{
      &:nth-child(#{$i}){
        transition:transform 0.5s ease #{$i * 0.15}s;
          
        span{
          animation: rollIn 0.3s forwards;
          opacity: 0;
          transform: translateY(-8px) rotate(-5deg);
          display: inline-block;
          
          @for $f from 1 through 50 {
            &:nth-child(#{$f}) {
              animation-delay: #{($f * 0.05) + ($i * 0.15)}s;
            }
          }
          
          &:empty{
      			width:15px;
      		}
        }
      }
    }
  }
  &l, &l-d{
    span{
      animation: rollIn 0.7s forwards;
    }
  }
  &w, &w-d{
    span{
      animation: rollIn 0.5s forwards;
    }
  }
}

@keyframes rollIn {
  to{
    transform: translateY(0) rotate(0);
    opacity: 1;
  }
}